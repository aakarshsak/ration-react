{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Receipt from '../../components/receipt';\nimport Layout from '../../components/layout';\nimport validate from '../../localmodules/token_validate';\nimport get from '../../localmodules/express_get';\nimport Shop from '../../ethereum/shop';\nexport default class ReceiptApp extends Component {\n  static async getInitialProps(props) {\n    const {\n      headerToken,\n      loggedIn\n    } = validate(props.query.headerToken);\n    const headers = {\n      'Content-Type': 'application/json',\n      'x-auth-token': headerToken\n    };\n    const {\n      data,\n      status\n    } = await get('/user/login/me', headers);\n    const address = props.query.address;\n    const transaction = props.query.transaction;\n    const splitted = transaction.split('-');\n    transaction = {\n      rice: splitted[0],\n      wheat: splitted[1],\n      arhad: splitted[2],\n      kerosene: splitted[3],\n      threeDigit: splitted[4]\n    };\n    console.log(transaction);\n    const s = Shop(address);\n    const details = await s.methods.getDetails().call();\n    return {\n      data,\n      details,\n      transaction\n    };\n  }\n\n  render() {\n    return __jsx(Layout, null, __jsx(\"div\", null, this.props.transaction), __jsx(Receipt, null));\n  }\n\n}","map":{"version":3,"sources":["/home/zoro/Documents/Programming/JS/ration/ration-react/pages/shops/receipt.js"],"names":["React","Component","Receipt","Layout","validate","get","Shop","ReceiptApp","getInitialProps","props","headerToken","loggedIn","query","headers","data","status","address","transaction","splitted","split","rice","wheat","arhad","kerosene","threeDigit","console","log","s","details","methods","getDetails","call","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,GAAP,MAAgB,gCAAhB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AAEA,eAAe,MAAMC,UAAN,SAAyBN,SAAzB,CAAmC;AAE9C,eAAaO,eAAb,CAA6BC,KAA7B,EAAmC;AAC/B,UAAM;AAAEC,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAA4BP,QAAQ,CAACK,KAAK,CAACG,KAAN,CAAYF,WAAb,CAA1C;AACA,UAAMG,OAAO,GAAG;AAAE,sBAAe,kBAAjB;AAAqC,sBAAiBH;AAAtD,KAAhB;AACA,UAAM;AAACI,MAAAA,IAAD;AAAOC,MAAAA;AAAP,QAAiB,MAAMV,GAAG,CAAC,gBAAD,EAAmBQ,OAAnB,CAAhC;AACA,UAAMG,OAAO,GAAGP,KAAK,CAACG,KAAN,CAAYI,OAA5B;AAEA,UAAMC,WAAW,GAAGR,KAAK,CAACG,KAAN,CAAYK,WAAhC;AACA,UAAMC,QAAQ,GAAGD,WAAW,CAACE,KAAZ,CAAkB,GAAlB,CAAjB;AACAF,IAAAA,WAAW,GAAG;AACVG,MAAAA,IAAI,EAAGF,QAAQ,CAAC,CAAD,CADL;AAEVG,MAAAA,KAAK,EAAGH,QAAQ,CAAC,CAAD,CAFN;AAGVI,MAAAA,KAAK,EAAGJ,QAAQ,CAAC,CAAD,CAHN;AAIVK,MAAAA,QAAQ,EAAGL,QAAQ,CAAC,CAAD,CAJT;AAKVM,MAAAA,UAAU,EAAGN,QAAQ,CAAC,CAAD;AALX,KAAd;AAOAO,IAAAA,OAAO,CAACC,GAAR,CAAYT,WAAZ;AACA,UAAMU,CAAC,GAAGrB,IAAI,CAACU,OAAD,CAAd;AACA,UAAMY,OAAO,GAAG,MAAMD,CAAC,CAACE,OAAF,CAAUC,UAAV,GAAuBC,IAAvB,EAAtB;AACA,WAAO;AAAEjB,MAAAA,IAAF;AAAQc,MAAAA,OAAR;AAAiBX,MAAAA;AAAjB,KAAP;AACH;;AAEDe,EAAAA,MAAM,GAAE;AACJ,WACI,MAAC,MAAD,QACI,mBAAM,KAAKvB,KAAL,CAAWQ,WAAjB,CADJ,EAEI,MAAC,OAAD,OAFJ,CADJ;AAMH;;AA9B6C","sourcesContent":["import React, {Component} from 'react';\nimport Receipt from '../../components/receipt';\nimport Layout from '../../components/layout';\nimport validate from '../../localmodules/token_validate';\nimport get from '../../localmodules/express_get';\nimport Shop from '../../ethereum/shop';\n\nexport default class ReceiptApp extends Component {\n\n    static async getInitialProps(props){\n        const { headerToken, loggedIn } = validate(props.query.headerToken);\n        const headers = { 'Content-Type':'application/json', 'x-auth-token' : headerToken};\n        const {data, status} = await get('/user/login/me', headers);\n        const address = props.query.address;\n\n        const transaction = props.query.transaction;\n        const splitted = transaction.split('-');\n        transaction = {\n            rice : splitted[0],\n            wheat : splitted[1],\n            arhad : splitted[2],\n            kerosene : splitted[3],\n            threeDigit : splitted[4]\n        }\n        console.log(transaction);\n        const s = Shop(address);\n        const details = await s.methods.getDetails().call();\n        return { data, details, transaction };\n    }\n\n    render(){\n        return (\n            <Layout>\n                <div>{this.props.transaction}</div>\n                <Receipt />\n            </Layout>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}