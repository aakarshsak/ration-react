{"ast":null,"code":"const factory = require('../ethereum/factory');\n\nconst web3 = require('../ethereum/web3');\n\nconst Shop = require('../ethereum/shop');\n\nconst saveToEthereum = async obj => {\n  const accounts = await web3.eth.getAccounts();\n  console.log(accounts, obj); // await factory.methods\n  //   .createShop(obj.managerName, obj.rice, obj.wheat, obj.arhad, obj.kerosene, obj.fpdName, obj.shopName, obj.addr)\n  //   .send({\n  //     from: accounts[0],\n  //   });\n\n  const addresses = await factory.methods.getDeployedShops().call();\n  console.log(addresses);\n  const s = Shop(addresses[-1]);\n  await s.methods.setBlockName(obj.blockName).send({\n    from: accounts[0]\n  });\n};\n\nmodule.exports = saveToEthereum;","map":{"version":3,"sources":["/home/zoro/Documents/Programming/JS/ration/ration-react/localmodules/data_initialization.js"],"names":["factory","require","web3","Shop","saveToEthereum","obj","accounts","eth","getAccounts","console","log","addresses","methods","getDeployedShops","call","s","setBlockName","blockName","send","from","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,qBAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,kBAAD,CAApB;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,kBAAD,CAApB;;AAEA,MAAMG,cAAc,GAAG,MAAOC,GAAP,IAAe;AACpC,QAAMC,QAAQ,GAAG,MAAMJ,IAAI,CAACK,GAAL,CAASC,WAAT,EAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAAsBD,GAAtB,EAFoC,CAGpC;AACA;AACA;AACA;AACA;;AAEA,QAAMM,SAAS,GAAG,MAAMX,OAAO,CAACY,OAAR,CAAgBC,gBAAhB,GAAmCC,IAAnC,EAAxB;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AACA,QAAMI,CAAC,GAAGZ,IAAI,CAACQ,SAAS,CAAC,CAAC,CAAF,CAAV,CAAd;AACA,QAAMI,CAAC,CAACH,OAAF,CAAUI,YAAV,CAAuBX,GAAG,CAACY,SAA3B,EAAsCC,IAAtC,CAA2C;AAAEC,IAAAA,IAAI,EAAGb,QAAQ,CAAC,CAAD;AAAjB,GAA3C,CAAN;AACD,CAbD;;AAcAc,MAAM,CAACC,OAAP,GAAiBjB,cAAjB","sourcesContent":["const factory = require('../ethereum/factory');\nconst web3 = require('../ethereum/web3');\nconst Shop = require('../ethereum/shop');\n\nconst saveToEthereum = async (obj) => {\n  const accounts = await web3.eth.getAccounts();\n  console.log(accounts, obj);\n  // await factory.methods\n  //   .createShop(obj.managerName, obj.rice, obj.wheat, obj.arhad, obj.kerosene, obj.fpdName, obj.shopName, obj.addr)\n  //   .send({\n  //     from: accounts[0],\n  //   });\n\n  const addresses = await factory.methods.getDeployedShops().call();\n  console.log(addresses);\n  const s = Shop(addresses[-1]);\n  await s.methods.setBlockName(obj.blockName).send({ from : accounts[0]});\n}\nmodule.exports = saveToEthereum;"]},"metadata":{},"sourceType":"script"}